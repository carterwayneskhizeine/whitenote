# WhiteNote UI/UX 与 X（Twitter）对齐方案

**日期**：2026-01-06  
**状态**：草稿  
**参考文档**：`PRODUCT_DESIGN_V2.5.md`、`FRONTEND_API_INTEGRATION_STATUS.md`

---

## 1. 设计哲学

**核心目标**：复刻 X（Twitter）那种无摩擦、让人沉浸的「信息流」体验，但背后由「个人知识图谱」驱动。

- **视觉保真**：采用 X 的间距、字体与图标规范。  
- **交互方式**：「一键」操作、以模态窗口为主的创作、以导航驱动的发现。  
- **适应性**：X 强调「社交」，WhiteNote 强调「知识」  
  - 「转推」→「引用/链接」  
  - 「点赞」→「星标/收藏」

---

## 2. 布局架构

### 2.1 桌面端（三栏）

严格遵循 `左侧栏` - `主内容` - `右侧栏` 结构。

**左侧栏（导航）**
- **对齐**：内容右对齐，固定宽度 275px。  
- **项目**：
  - **Logo**：WhiteNote Logo（左上角）。  
  - **首页 (🏠)**：主时间线。  
  - **探索 (#️⃣)**：标签云 / 发现页（路由 `/tags`）。  
  - **通知 (🔔)**：提醒与系统消息。  
  - **收藏 (⭐)**：星标/置顶笔记（路由 `/favorites`）。  
  - **个人资料 (👤)**：用户资料与统计。  
  - **更多 (⚪)**：设置与配置。  
- **操作**：大号「发布」按钮（羽毛图标，主色）。  
- **用户菜单**：底部头像、姓名、账号（`@user`）与弹出菜单（登出）。

**中间栏（时间线）**
- **宽度**：固定 600px（响应式可 600-700px）。  
- **顶部栏**：粘性 + 背景模糊。显示「页面标题」（如「首页」）或标签页（「为你」|「关注」）。  
  - 适配：「时间线」（全部）|「聚焦」（星标/最近）。  
- **撰写区**：顶部「发生了什么？」输入框（桌面端）。  
- **分隔线**：`1px` 实线（深色模式 `border-gray-800`）分隔各栏。

**右侧栏（小组件）**
- **宽度**：350px。  
- **搜索**：药丸形搜索框（`bg-gray-900`）置顶。  
- **小组件**：
  - **「正在发生」**：热门标签（热力图列表）。  
  - **「相关笔记」**：AI 推荐的相关笔记（RAG 上下文）。  
  - **「媒体」**：最近图片网格。

### 2.2 移动端

- **顶部栏**：
  - 左：用户头像（抽屉触发）。  
  - 中：Logo（点击回到顶部）。  
  - 右：设置 / 三点菜单。  
- **抽屉（侧边菜单）**：  
  - 替代左侧栏，展示个人资料、收藏、列表。  
- **底部导航**：  
  - 首页、搜索、通知、信封（消息/DM → 可能改为「「与 AI 对话」）。  
- **悬浮按钮（FAB）**：  
  - 右下角固定「新建笔记」。

---

## 3. 组件改造

### 3.1 「推文」卡片（笔记卡片）

将现有 `MessageCard` 改造成 X 的密度与布局。

- **头部**：
  - `头像`（左侧，圆形）。  
  - `姓名`（加粗，白色）。  
  - `账号`（灰色，`@alias` 或日期）。  
  - `时间`（点分隔，相对时间 `2h`）。  
  - `更多`（右上角三点）。  
- **内容**：
  - 文本正文（Tiptap 渲染）。  
  - **媒体网格**：圆角，模仿 X 的 1/2/3/4 图布局。  
  - **链接预览**：大卡片展示 URL。  
- **底部（操作栏）**：
  - `flex w-full justify-between max-w-md`。  
  - **回复**：气泡图标（评论数）。  
  - **转发**：循环图标（双向链接 / 引用数）。  
  - **喜欢**：心形图标（星标状态）。  
  - **分享**：上传图标（复制链接 / 导出）。  
  - *悬停状态*：图标悬停时变色（蓝、绿、粉、蓝）。

### 3.2 撰写器（输入机）

- **占位符**：「发生了什么？」（私人笔记）  
- **工具栏**：
  - 图标：`图片`（上传）、`GIF`（媒体）、`列表`（投票/模板）、`日历`（提醒）、`地图`（位置/标签）。  
  - 右侧：`透明度` 圆环（字符数 / Token 用量）、`+` 按钮。  
- **交互**：自动伸缩 `textarea`。

### 3.3 串（Thread）视图

- **垂直连接线**：`w-[2px] bg-gray-700` 连接父节点与子节点头像。  
- **主笔记**：详情页中主笔记字体更大（24px）。  
- **元数据**：「上午 10:00 · 2026-01-06 · 100 次浏览」置于内容下方。  
- **分隔线**：水平线。  
- **回复**：子节点列于下方。

---

## 4. 交互动效

- **模态撰写**：移动端点击「+」或桌面端点击「发布」弹出全屏模态。  
- **图片查看器**：点击图片进入全屏黑色背景查看器，支持方向键切换。  
- **滑动动画**：路由切换可模拟移动端推入/推出（可选）。  
- **提示条**：底部居中「药丸」形通知（Twitter 风格）或顶部居中。

---

## 5. 实施计划

### 阶段 1：结构重构（布局）
- [ ] **MainLayout**：实现三栏网格（`275px 1fr 350px`）。  
- [ ] **LeftSidebar**：使用 `lucide-react` 图标（Home、Hash、Bell、Bookmark、User），激活时填充。  
- [ ] **RightSidebar**：实现搜索栏 + 热门标签小组件。

### 阶段 2：卡片与信息流（UI 精修）
- [ ] **MessageCard**：用 CSS Grid/Flex 重构，匹配 X 样式。  
  - 实现带悬停效果的操作栏。  
  - 集成多图「媒体网格」。  
- [ ] **Feed**：实现粘性顶部栏，背景模糊（`backdrop-blur-md bg-black/60`）。

### 阶段 3：高级交互
- [ ] **ThreadView**：添加父-子笔记之间的垂直连接线 (`vl`)。  
- [ ] **Composer**：带工具图标的增强「输入机」。  
- [ ] **MobileNav**：带滚动隐藏行为的底部栏。

### 阶段 4：主题细节
- [ ] **字体**：确保字重统一（姓名加粗、正文常规、元数据细）。  
- [ ] **颜色**：检查 `tailwind.config.ts` 中的「Twitter 蓝」（`#1d9bf0`）及「Dark Dim」（`#15202b`）或「Lights Out」（`#000000`）背景。

---

## 6. 需修改的代码

| 组件 | 文件路径 | 变更内容 |
|------|----------|----------|
| **布局** | `src/app/layout.tsx` | 定义最大宽度容器与网格。 |
| **侧边栏** | `src/components/LeftSidebar.tsx` | 更新图标、间距、用户菜单。 |
| **移动端导航** | `src/components/MobileNav.tsx` | 添加顶部栏、抽屉、滚动隐藏。 |
| **信息流** | `src/components/MessagesList.tsx` | 移除通用内边距，添加分隔边框。 |
| **卡片** | `src/components/MessageCard.tsx` | 完全重设计头部与底部。 |
| **小组件** | `src/components/RightSidebar.tsx` | 新增搜索与热门组件。 |